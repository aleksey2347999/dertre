<!DOCTYPE html>
<html>
<head>
    <title>SWILL Casino</title>
    <meta charset="utf-8">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            color: white;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 400px;
            margin: 0 auto;
        }
        .balance {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }
        .game-section {
            background: rgba(255,255,255,0.05);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        .slot-machine {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
            margin: 20px 0;
        }
        .slot {
            height: 80px;
            background: white;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: black;
        }
        button {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 5px;
            width: 100%;
        }
        button:hover {
            background: #c0392b;
        }
        .result {
            text-align: center;
            font-size: 18px;
            margin: 10px 0;
            min-height: 30px;
        }
        .bet-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 15px 0;
        }
        .bet-amount {
            font-size: 18px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="balance">
            <h2>–ë–∞–ª–∞–Ω—Å: <span id="balance">1000</span> ‚ÇΩ</h2>
        </div>

        <div class="game-section">
            <h3>–ò–≥—Ä–æ–≤—ã–µ –∞–≤—Ç–æ–º–∞—Ç—ã</h3>
            <div class="slot-machine">
                <div class="slot" id="slot1">üçí</div>
                <div class="slot" id="slot2">üçã</div>
                <div class="slot" id="slot3">üçä</div>
            </div>
            
            <div class="bet-controls">
                <button onclick="changeBet(-10)">-10</button>
                <div class="bet-amount">–°—Ç–∞–≤–∫–∞: <span id="betAmount">50</span> ‚ÇΩ</div>
                <button onclick="changeBet(10)">+10</button>
            </div>

            <button onclick="spinSlots()">–ö–†–£–¢–ò–¢–¨</button>
            <div class="result" id="result"></div>
        </div>

        <div class="game-section">
            <h3>–ë—ã—Å—Ç—Ä—ã–µ –∏–≥—Ä—ã</h3>
            <button onclick="playCoinFlip()">–û—Ä—ë–ª/–†–µ—à–∫–∞ (x2)</button>
            <button onclick="playDice()">–ö–æ—Å—Ç–∏ (x3)</button>
            <button onclick="playRoulette()">–†—É–ª–µ—Ç–∫–∞ (x36)</button>
        </div>

        <div class="game-section">
            <h3>–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—á—ë—Ç–∞</h3>
            <button onclick="addFunds(100)">+100 ‚ÇΩ</button>
            <button onclick="addFunds(500)">+500 ‚ÇΩ</button>
            <button onclick="addFunds(1000)">+1000 ‚ÇΩ</button>
        </div>
    </div>

    <script>
        let balance = 1000;
        let currentBet = 50;
        const symbols = ['üçí', 'üçã', 'üçä', '‚≠ê', 'üíé', '7Ô∏è‚É£'];

        function updateDisplay() {
            document.getElementById('balance').textContent = balance;
            document.getElementById('betAmount').textContent = currentBet;
        }

        function changeBet(amount) {
            currentBet += amount;
            if (currentBet < 10) currentBet = 10;
            if (currentBet > balance) currentBet = balance;
            updateDisplay();
        }

        function spinSlots() {
            if (balance < currentBet) {
                document.getElementById('result').textContent = "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!";
                return;
            }

            balance -= currentBet;
            updateDisplay();

            // –ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è
            const slots = ['slot1', 'slot2', 'slot3'];
            let spins = 0;
            const maxSpins = 20;
            
            const spinInterval = setInterval(() => {
                slots.forEach(slotId => {
                    const randomSymbol = symbols[Math.floor(Math.random() * symbols.length)];
                    document.getElementById(slotId).textContent = randomSymbol;
                });
                
                spins++;
                if (spins >= maxSpins) {
                    clearInterval(spinInterval);
                    showResult();
                }
            }, 100);
        }

        function showResult() {
            const slot1 = document.getElementById('slot1').textContent;
            const slot2 = document.getElementById('slot2').textContent;
            const slot3 = document.getElementById('slot3').textContent;
            
            let winAmount = 0;
            
            if (slot1 === slot2 && slot2 === slot3) {
                if (slot1 === '7Ô∏è‚É£') winAmount = currentBet * 10;
                else if (slot1 === 'üíé') winAmount = currentBet * 5;
                else winAmount = currentBet * 3;
            } else if (slot1 === slot2 || slot2 === slot3 || slot1 === slot3) {
                winAmount = currentBet * 2;
            }
            
            if (winAmount > 0) {
                balance += winAmount;
                document.getElementById('result').textContent = `–ü–û–ë–ï–î–ê! +${winAmount} ‚ÇΩ`;
            } else {
                document.getElementById('result').textContent = "–ü–†–û–ò–ì–†–´–®";
            }
            
            updateDisplay();
        }

        function playCoinFlip() {
            if (balance < currentBet) {
                document.getElementById('result').textContent = "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!";
                return;
            }

            balance -= currentBet;
            const win = Math.random() > 0.45; // 55% —à–∞–Ω—Å –Ω–∞ –ø–æ–±–µ–¥—É
            if (win) {
                const winAmount = currentBet * 2;
                balance += winAmount;
                document.getElementById('result').textContent = `–í—ã–∏–≥—Ä—ã—à! +${winAmount} ‚ÇΩ`;
            } else {
                document.getElementById('result').textContent = "–ü—Ä–æ–∏–≥—Ä—ã—à";
            }
            updateDisplay();
        }

        function playDice() {
            if (balance < currentBet) {
                document.getElementById('result').textContent = "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!";
                return;
            }

            balance -= currentBet;
            const playerRoll = Math.floor(Math.random() * 6) + 1;
            const houseRoll = Math.floor(Math.random() * 6) + 1;
            
            if (playerRoll > houseRoll) {
                const winAmount = currentBet * 3;
                balance += winAmount;
                document.getElementById('result').textContent = `–í—ã–∏–≥—Ä—ã—à! ${playerRoll} vs ${houseRoll} +${winAmount} ‚ÇΩ`;
            } else {
                document.getElementById('result').textContent = `–ü—Ä–æ–∏–≥—Ä—ã—à ${playerRoll} vs ${houseRoll}`;
            }
            updateDisplay();
        }

        function playRoulette() {
            if (balance < currentBet) {
                document.getElementById('result').textContent = "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!";
                return;
            }

            balance -= currentBet;
            const winNumber = Math.floor(Math.random() * 37);
            const playerNumber = Math.floor(Math.random() * 37);
            
            if (winNumber === playerNumber) {
                const winAmount = currentBet * 36;
                balance += winAmount;
                document.getElementById('result').textContent = `–î–ñ–ï–ö–ü–û–¢! ${winNumber} +${winAmount} ‚ÇΩ`;
            } else {
                document.getElementById('result').textContent = `–í—ã–ø–∞–ª–æ: ${winNumber}, –≤–∞—à–µ: ${playerNumber}`;
            }
            updateDisplay();
        }

        function addFunds(amount) {
            balance += amount;
            updateDisplay();
            document.getElementById('result').textContent = `–°—á—ë—Ç –ø–æ–ø–æ–ª–Ω–µ–Ω –Ω–∞ ${amount} ‚ÇΩ`;
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        Telegram.WebApp.ready();
        Telegram.WebApp.expand();
        
        updateDisplay();
    </script>
</body>
</html>